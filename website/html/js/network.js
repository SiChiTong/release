"use strict";function checkIp(t){return null!=(t=t.match(/(\d+)\.(\d+)\.(\d+)\.(\d+)/g))&&!(RegExp.$1>255||RegExp.$2>255||RegExp.$3>255||RegExp.$4>255)}var NET=NET||{lastNetworkSettingHandle:function(t){var e=t;e.data&&(e=e.data);var i=e.split(",");if(3===i.length){var n={ssid:i[0].split(":")[1].trim(),password:i[1].split(":")[1].trim(),ip:i[2].split(":")[1].trim()};$("#network_ssid").val(n.ssid),$("#network_password").val(n.password),$("#network_ip").val(n.ip)}}};$(function(){$("#network_set").on("click",function(){var t=$("#network_ssid").val(),e=$("#network_password").val(),i=$("#network_ip").val().trim(),n="checked"===$("#rememberNetSetting").attr("checked");if(console.log("ssid: "+t+", password: "+e+", ip: "+i+",rememberSetting: "+n),e||(e="null"),i){if(!checkIp(i))return void ALERT.error({title:"参数错误",text:"ip不合法"})}else i="null";NAV.setNetwork(PARAMS.NetworkMode.wifi,{ssid:t,password:e,ip:i,rememberSetting:n}),DATA.loading="切换中",setTimeout(function(){window.location.href="http://"+i},1e4),$("#network_settings").css("display","none")}),$("#network_reset").on("click",function(){NAV.setNetwork(PARAMS.NetworkMode.ap,{}),DATA.loading="切换中",setTimeout(function(){window.location.href="http://10.42.0.1"},1e4),$("#network_settings").css("display","none")})});