"use strict";function checkIp(t){return null!=(t=t.match(/(\d+)\.(\d+)\.(\d+)\.(\d+)/g))&&!(RegExp.$1>255||RegExp.$2>255||RegExp.$3>255||RegExp.$4>255)}var NET=NET||{lastNetworkSettingHandle:function(t){var e=t;e.data&&(e=e.data);var o=e.split(",");if(3===o.length){var s={ssid:o[0].split(":")[1].trim(),password:o[1].split(":")[1].trim(),ip:o[2].split(":")[1].trim()};$("#network_ssid").val(s.ssid),$("#network_password").val(s.password),$("#network_ip").val(s.ip)}}};$(function(){$("#network_set").on("click",function(){var t=$("#network_ssid").val(),e=$("#network_password").val(),o=$("#network_ip").val();console.log("ssid: "+t+", \n\t\t\tpassword: "+e+", \n\t\t\tip: "+o),checkIp(o)?(NAV.setNetwork(PARAMS.NetworkMode.wifi,{ssid:t,password:e,ip:o}),DATA.loading="切换中",setTimeout(function(){window.location.href="http://"+o},1e4),$("#network_settings").css("display","none")):ALERT.error({title:"参数错误",text:"ip不合法"})}),$("#network_reset").on("click",function(){NAV.setNetwork(PARAMS.NetworkMode.ap,{}),DATA.loading="切换中",setTimeout(function(){window.location.href="http://10.42.0.1"},1e4),$("#network_settings").css("display","none")})});