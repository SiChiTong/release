<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>导航</title>
    <script type="text/javascript" src="js/easeljs.min.js"></script>
    <script type="text/javascript" src="js/eventemitter2.min.js"></script>
    <script type="text/javascript" src="js/roslib.js"></script>
    <script type="text/javascript" src="js/ros2d.js"></script>
    <script type="text/javascript" src="js/nav2d.js"></script>
    <style type="text/css">
        ul li {
            list-style: none;
            margin-top: 50px;
            font-size: 2em;
        }
    </style>
</head>

<body>
    <div>
        <ul>
            <li>position.x:</li>
            <li id="Li1"></li>
            <li>position.y:</li>
            <li id="Li2"></li>
            <li>position.z:</li>
            <li id="Li3"></li>
            <li>orientation.x:</li>
            <li id="Li4"></li>
            <li>orientation.y:</li>
            <li id="Li5"></li>
            <li>orientation.z:</li>
            <li id="Li6"></li>
            <li>orientation.w:</li>
            <li id="Li7"></li>
        </ul>
    </div>

</body>
<script type="text/javascript">

    var ros = new ROSLIB.Ros({
        url: 'ws://192.168.0.7:9090'
    });

    var poseListener = new ROSLIB.Topic({
        ros: ros,
        name: '/robot_pose',
        messageType: 'geometry_msgs/Pose',
        throttle_rate: 100
    });

    poseListener.subscribe(function (pose) {
        document.getElementById("Li1").innerHTML = pose.position.x;
        document.getElementById("Li2").innerHTML = pose.position.y;
        document.getElementById("Li3").innerHTML = pose.position.z;
        document.getElementById("Li4").innerHTML = pose.orientation.x;
        document.getElementById("Li5").innerHTML = pose.orientation.y;
        document.getElementById("Li6").innerHTML = pose.orientation.z;
        document.getElementById("Li7").innerHTML = pose.orientation.w;
   
        // 得到x/y坐标
        // pose.position.x;
        // -pose.position.y;
        // 得到四元素方向
        // pose.orientation
    })
</script>
</html>
